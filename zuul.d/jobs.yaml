---
- job:
    name: tripleo-ansible-centos
    parent: tox-molecule
    description: Basic tripleo-ansible tox job
    timeout: 900
    nodeset: centos-7
    voting: true

- job:
    name: tripleo-ansible-docs
    parent: openstack-tox-docs
    files:
      - ^tripleo_ansible/doc/.*
      - ^tripleo_ansible/README.rst

- job:
    name: tripleo-ansible-centos-7-molecule-aide
    parent: tripleo-ansible-centos
    files:
      - ^tripleo_ansible/roles/aide/.*
    vars:
      tox_envlist: mol-aide

- job:
    name: tripleo-ansible-centos-7-molecule-test_deps
    parent: tripleo-ansible-centos
    files:
      - ^tripleo_ansible/roles/test_deps/.*
    vars:
      tox_envlist: mol-test_deps

- job:
    name: tripleo-ansible-centos-7-molecule-test_json_error_callback
    parent: tripleo-ansible-centos
    files:
      - ^tripleo_ansible/roles/test_json_error_callback/.*
    vars:
      tox_envlist: mol-test_json_error_callback

- job:
    name: tripleo-ansible-centos-7-molecule-test_package_action
    parent: tripleo-ansible-centos
    files:
      - ^tripleo_ansible/roles/test_package_action/.*
      - ^tripleo-ansible/tripleo_ansible/ansible_plugins/action/package.py
    vars:
      tox_envlist: mol-test_package_action

- job:
    name: tripleo-ansible-centos-7-molecule-tuned
    parent: tripleo-ansible-centos
    files:
      - ^tripleo_ansible/roles/tuned/.*
    vars:
      tox_envlist: mol-tuned
